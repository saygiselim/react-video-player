{"version":3,"sources":["app/common/video-player/VideoPlayer.tsx","app/common/dropdown/Dropdown.tsx","app/common/image-select/ImageSelect.tsx","app/common/video-player/video-title/VideoTitle.tsx","app/common/video-player/video-poster/VideoPoster.tsx","app/common/video-player/video-control/VideoControl.tsx","app/common/video-player/video-overlay-control/VideoOverlayControl.tsx","app/App.tsx","index.tsx"],"names":["VideoPlayerTheme","Dropdown","props","useState","selectedOption","setSelectedOption","useEffect","onSelect","className","label","onChange","event","options","target","value","defaultValue","indexOf","map","option","index","textProperty","ImageSelect","imageProperty","onClick","title","titleProperty","src","alt","VideoTitle","VideoPoster","source","VideoControl","currentTime","totalTime","isPlaying","isMuted","isFullscreen","skipBackward","togglePlay","skipForward","toggleMute","toggleFullscreen","skip","onKeydown","key","document","addEventListener","removeEventListener","getFormattedTime","timeInSeconds","hours","Math","floor","minutes","seconds","getZeroPaddedString","number","toString","padStart","getClickedTimePoint","percentage","nativeEvent","offsetX","currentTarget","offsetWidth","round","style","width","type","icon","faVolumeMute","faVolumeUp","faBackward","size","faPause","faPlay","faForward","faCompress","faExpand","VideoOverlayControl","onDoubleClick","VideoPlayer","mouseIdleTimeoutId","setIsPlaying","setIsMuted","isFullScreen","setIsFullScreen","setTotalTime","setCurrentTime","isMouseInIdleState","setIsMouseInIdleState","videoPlayerElementRef","useRef","videoElementRef","videoInfo","onFullscreenModeChanged","fullscreenElement","onMouseMove","resetMouseIdleTimer","videoPlayerElement","current","console","log","pause","play","clearTimeout","setTimeout","ref","theme","videoSrc","onLoadedData","duration","onPlaying","onTimeUpdate","onEnded","posterSrc","volume","webkitCancelFullScreen","webkitRequestFullScreen","App","themeOptions","text","Red","Green","Blue","currentTheme","setCurrentTheme","videoInfos","currentVideoInfo","setCurrentVideoInfo","href","rel","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4c2f8b8d.chunk.js","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\n\r\nimport './VideoPlayer.scss';\r\n\r\nimport { VideoTitle } from \"./video-title/VideoTitle\";\r\nimport { VideoPoster } from \"./video-poster/VideoPoster\";\r\nimport { VideoControl } from \"./video-control/VideoControl\";\r\nimport { VideoOverlayControl } from \"./video-overlay-control/VideoOverlayControl\";\r\n\r\nexport const VideoPlayer = (props: VideoPlayerProps) => {\r\n    const SKIP_AMOUNT_IN_SEC = 30;\r\n    const MOUSE_IDLE_TIMEOUT_IN_MS = 5000;\r\n\r\n    const [isPlaying, setIsPlaying] = useState(false);\r\n    const [isMuted, setIsMuted] = useState(false);\r\n    const [isFullScreen, setIsFullScreen] = useState(false);\r\n    const [totalTime, setTotalTime] = useState(0);\r\n    const [currentTime, setCurrentTime] = useState(0);\r\n    const [isMouseInIdleState, setIsMouseInIdleState] = useState(false);\r\n\r\n    let videoPlayerElementRef = useRef<HTMLDivElement>(null);\r\n    let videoElementRef = useRef<HTMLVideoElement>(null);\r\n\r\n    let mouseIdleTimeoutId: NodeJS.Timeout;\r\n\r\n    // Events\r\n    useEffect(() => setIsPlaying(false), [props.videoInfo]);\r\n\r\n    useEffect(() => {\r\n        const onFullscreenModeChanged = () => setIsFullScreen(!!document.fullscreenElement);\r\n        const onMouseMove = () => resetMouseIdleTimer();\r\n\r\n        const videoPlayerElement = videoPlayerElementRef.current;\r\n        videoPlayerElement?.addEventListener('webkitfullscreenchange', onFullscreenModeChanged);\r\n        videoPlayerElement?.addEventListener('mousemove', onMouseMove);\r\n        console.log('events added');\r\n        return () => {\r\n            videoPlayerElement?.removeEventListener('webkitfullscreenchange', onFullscreenModeChanged);\r\n            videoPlayerElement?.addEventListener('mousemove', onMouseMove);\r\n        }\r\n    }, [videoPlayerElementRef]);\r\n\r\n    const onLoaded = () => setTotalTime(videoElementRef.current?.duration || 0);\r\n\r\n    const onPlaying = () => setIsPlaying(true);\r\n\r\n    const onTimeUpdated = () => setCurrentTime(videoElementRef.current?.currentTime || 0);\r\n\r\n    const onEnded = () => setIsPlaying(false);\r\n\r\n    // Behaviors\r\n    /**\r\n     * Plays the video\r\n     */\r\n    const play = () => {\r\n        videoElementRef.current?.play();\r\n        setIsPlaying(true);\r\n    }\r\n\r\n    /**\r\n     * Pauses the video\r\n     */\r\n    const pause = () => {\r\n        videoElementRef.current?.pause();\r\n        setIsPlaying(false);\r\n    }\r\n\r\n    /**     \r\n     * Toggles play state\r\n     */\r\n    const togglePlay = () => isPlaying ? pause() : play();\r\n\r\n    /**\r\n     * Toggles volume mode\r\n     */\r\n    const toggleMute = () => {\r\n        const VOLUME_MIN = 0;\r\n        const VOLUME_MAX = 1;\r\n\r\n        if (videoElementRef.current)\r\n            videoElementRef.current.volume = isMuted ? VOLUME_MAX : VOLUME_MIN;\r\n\r\n        setIsMuted(!isMuted);\r\n    }\r\n\r\n    /**\r\n     * Toggles fullscreen mode for webkit based browsers\r\n     * \r\n     * for more information: https://developer.mozilla.org/en-US/docs/Web/API/Document/fullscreen\r\n     */\r\n    const toggleFullscreen = () => !isFullScreen ? (videoPlayerElementRef.current as any).webkitRequestFullScreen() : (document as any).webkitCancelFullScreen();\r\n\r\n    /**\r\n     * Sets current time to the given second value\r\n     * \r\n     * @param timeInSeconds time to be set\r\n     */\r\n    const skip = (timeInSeconds: number) => {\r\n        if (videoElementRef.current)\r\n            videoElementRef.current.currentTime = timeInSeconds;\r\n\r\n        setCurrentTime(timeInSeconds);\r\n    }\r\n\r\n    /**\r\n     * Skips backward\r\n     */\r\n    const skipBackward = () => {\r\n        if (currentTime > SKIP_AMOUNT_IN_SEC)\r\n            skip(currentTime - SKIP_AMOUNT_IN_SEC);\r\n    }\r\n\r\n    /**\r\n     * Skips forward\r\n     */\r\n    const skipForward = () => {\r\n        if ((totalTime - currentTime) > SKIP_AMOUNT_IN_SEC)\r\n            skip(currentTime + SKIP_AMOUNT_IN_SEC);\r\n    }\r\n\r\n    /**\r\n     * Resets mouse idle timer\r\n     */\r\n    const resetMouseIdleTimer = () => {\r\n        clearTimeout(mouseIdleTimeoutId);\r\n        setIsMouseInIdleState(false);\r\n        mouseIdleTimeoutId = setTimeout(() => setIsMouseInIdleState(true), MOUSE_IDLE_TIMEOUT_IN_MS);\r\n    }\r\n\r\n    return (\r\n        <div\r\n            ref={videoPlayerElementRef}\r\n            className={`video-player theme theme-${props.theme} ${isFullScreen ? 'is-fullscreen' : ''}`}>\r\n            <video\r\n                ref={videoElementRef}\r\n                src={props.videoInfo.videoSrc}\r\n                onLoadedData={onLoaded}\r\n                onPlaying={onPlaying}\r\n                onTimeUpdate={onTimeUpdated}\r\n                onEnded={onEnded}>\r\n                Sorry, Your browser does not support HTML5 video feature\r\n            </video>\r\n            {!isPlaying && currentTime === 0 ? <VideoPoster source={props.videoInfo.posterSrc}></VideoPoster> : null}\r\n            <div className={`video-overlay ${isMouseInIdleState ? 'is-hidden' : ''}`}>\r\n                <VideoOverlayControl isPlaying={isPlaying} skipBackward={skipBackward} togglePlay={togglePlay} skipForward={skipForward}></VideoOverlayControl>\r\n                <VideoTitle title={props.videoInfo.title}></VideoTitle>\r\n                <VideoControl\r\n                    currentTime={currentTime}\r\n                    totalTime={totalTime}\r\n                    isPlaying={isPlaying}\r\n                    isMuted={isMuted}\r\n                    isFullscreen={isFullScreen}\r\n                    skipBackward={skipBackward}\r\n                    togglePlay={togglePlay}\r\n                    skipForward={skipForward}\r\n                    toggleMute={toggleMute}\r\n                    toggleFullscreen={toggleFullscreen}\r\n                    skip={skip}></VideoControl>\r\n            </div>\r\n        </div >\r\n    );\r\n}\r\n\r\ninterface VideoPlayerProps {\r\n    videoInfo: VideoInfo;\r\n    theme: VideoPlayerTheme;\r\n}\r\n\r\nexport interface VideoInfo {\r\n    title: string;\r\n    posterSrc: string;\r\n    videoSrc: string;\r\n}\r\n\r\nexport enum VideoPlayerTheme {\r\n    Red = 'red',\r\n    Green = 'green',\r\n    Blue = 'blue'\r\n}","import { useEffect, useState } from 'react';\r\n\r\nimport './Dropdown.scss';\r\n\r\nexport const Dropdown = (props: DropdownProps) => {\r\n    const [selectedOption, setSelectedOption] = useState(props.selectedOption);\r\n\r\n    useEffect(() => {\r\n        if (selectedOption)\r\n            props.onSelect(selectedOption);\r\n    }, [selectedOption])\r\n\r\n    return (\r\n        <div className=\"dropdown\">\r\n            <label className=\"label\">\r\n                {props.label}\r\n            </label>\r\n            <select\r\n                className=\"select\"\r\n                onChange={event => setSelectedOption(props.options[+event.target.value])}\r\n                defaultValue={props.options.indexOf(selectedOption)}>\r\n                {\r\n                    props.options.map(\r\n                        (option, index) =>\r\n                            <option\r\n                                key={index}\r\n                                value={index}>\r\n                                {option[props.textProperty]}\r\n                            </option>\r\n                    )\r\n                }\r\n            </select>\r\n        </div>\r\n    )\r\n}\r\n\r\ninterface DropdownProps {\r\n    label: string;\r\n    options: any[];\r\n    textProperty: string;\r\n    selectedOption?: any;\r\n    onSelect: (option: any) => void;\r\n}","import { useEffect, useState } from 'react';\r\n\r\nimport './ImageSelect.scss';\r\n\r\nexport const ImageSelect = (props: ImageSelectProps) => {\r\n    const [selectedOption, setSelectedOption] = useState(props.selectedOption);\r\n\r\n    useEffect(() => {\r\n        if (selectedOption)\r\n            props.onSelect(selectedOption);\r\n    }, [selectedOption]);\r\n\r\n    return (\r\n        <div className=\"image-select\">\r\n            {\r\n                props.options.map((option, index) =>\r\n                    <div\r\n                        key={index}\r\n                        className={`option ${option[props.imageProperty] === selectedOption[props.imageProperty] ? 'is-selected' : ''}`}\r\n                        onClick={() => setSelectedOption(option)}\r\n                        title={option[props.titleProperty]}>\r\n                        <img\r\n                            src={option[props.imageProperty]}\r\n                            alt={option[props.titleProperty]} />\r\n                    </div>\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\ninterface ImageSelectProps {\r\n    options: any[];\r\n    imageProperty: string;\r\n    titleProperty: string;\r\n    selectedOption?: any;\r\n    onSelect: (option: any) => void;\r\n}","import './VideoTitle.scss';\r\n\r\nexport const VideoTitle = (props: VideoTitleProps) => {\r\n    return (\r\n        <div className=\"video-title\">\r\n            {props.title}\r\n        </div>\r\n    );\r\n}\r\n\r\ninterface VideoTitleProps {\r\n    title: string;\r\n}","import './VideoPoster.scss';\r\n\r\nexport const VideoPoster = (props: VideoPosterProps) => {\r\n    return (\r\n        <div className=\"video-poster\">\r\n            <img src={props.source} alt=\"poster\"/>\r\n        </div>\r\n    );\r\n}\r\n\r\ninterface VideoPosterProps {\r\n    source: string;\r\n}","import { useEffect } from 'react';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBackward, faCompress, faExpand, faForward, faPause, faPlay, faVolumeMute, faVolumeUp } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport './VideoControl.scss';\r\n\r\nexport const VideoControl = (props: VideoControlProps) => {\r\n    const { currentTime, totalTime, isPlaying, isMuted, isFullscreen, skipBackward, togglePlay, skipForward, toggleMute, toggleFullscreen, skip } = props;\r\n\r\n    useEffect(() => {\r\n        const onKeydown = (event: KeyboardEvent) => {\r\n            switch (event.key) {\r\n                case 'ArrowLeft':\r\n                    skipBackward();\r\n                    break;\r\n\r\n                case ' ':\r\n                    togglePlay();\r\n                    break;\r\n\r\n                case 'ArrowRight':\r\n                    skipForward();\r\n                    break;\r\n            }\r\n        }\r\n\r\n        document.addEventListener('keydown', onKeydown);\r\n        return () => document.removeEventListener('keydown', onKeydown);\r\n    }, [skipBackward, togglePlay, skipForward, currentTime, totalTime, isPlaying]);\r\n\r\n    const onBarClicked = (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\r\n        skip(getClickedTimePoint(event));\r\n    }\r\n\r\n    /**\r\n     * Returns formatted time as 00:00:00\r\n     * \r\n     * @param timeInSeconds time to be formatted\r\n     */\r\n    const getFormattedTime = (timeInSeconds: number) => {\r\n        const hours = Math.floor(timeInSeconds / (60 * 60));\r\n        const minutes = Math.floor(timeInSeconds / 60);\r\n        const seconds = Math.floor(timeInSeconds % 60);\r\n\r\n        const getZeroPaddedString = (number: number) => {\r\n            return number.toString().padStart(2, '0');\r\n        }\r\n\r\n        return `${getZeroPaddedString(hours)}:${getZeroPaddedString(minutes)}:${getZeroPaddedString(seconds)}`;\r\n    }\r\n\r\n    /**\r\n     * Returns seekbar width as percentage based on the current time to represent remaining time on the bar\r\n     */\r\n    const getCurrentBarWidth = () => {\r\n        return `${(currentTime / totalTime) * 100}%`;\r\n    }\r\n\r\n    /**\r\n     * Returns a point in time based on the clicked point on the seekbar\r\n     * \r\n     * @param event mouse event\r\n     */\r\n    const getClickedTimePoint = (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\r\n        const percentage = (event.nativeEvent.offsetX / event.currentTarget.offsetWidth) * 100;\r\n\r\n        return Math.round((percentage * totalTime) / 100);\r\n    }\r\n\r\n    return (\r\n        <div className=\"video-control\">\r\n            <div className=\"seekbar-wrapper\">\r\n                <div className=\"seekbar\" onClick={onBarClicked}>\r\n                    <div className=\"seekbar-filled\" style={{ width: getCurrentBarWidth() }} ></div>\r\n                </div>\r\n            </div>\r\n            <div className=\"control-wrapper\">\r\n                <div className=\"control\">\r\n                    <button type=\"button\" className=\"btn\" onClick={toggleMute}>\r\n                        <FontAwesomeIcon icon={isMuted ? faVolumeMute : faVolumeUp} />\r\n                    </button>\r\n                    <span className=\"time\">\r\n                        {getFormattedTime(currentTime)}\r\n                    </span>\r\n                </div>\r\n                <div className=\"control\">\r\n                    <button type=\"button\" className=\"btn btn-primary\" onClick={skipBackward}>\r\n                        <FontAwesomeIcon icon={faBackward} size=\"2x\" />\r\n                    </button>\r\n                    <button type=\"button\" className=\"btn btn-primary\" onClick={togglePlay}>\r\n                        <FontAwesomeIcon icon={isPlaying ? faPause : faPlay} size=\"3x\" />\r\n                    </button>\r\n                    <button type=\"button\" className=\"btn btn-primary\" onClick={skipForward}>\r\n                        <FontAwesomeIcon icon={faForward} size=\"2x\" />\r\n                    </button>\r\n                </div>\r\n                <div className=\"control\">\r\n                    <span className=\"time\">\r\n                        {getFormattedTime(totalTime)}\r\n                    </span>\r\n                    <button type=\"button\" className=\"btn\" onClick={toggleFullscreen}>\r\n                        <FontAwesomeIcon icon={isFullscreen ? faCompress : faExpand} />\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\ninterface VideoControlProps {\r\n    currentTime: number;\r\n    totalTime: number;\r\n    isPlaying: boolean;\r\n    isMuted: boolean;\r\n    isFullscreen: boolean;\r\n    skipBackward: () => void;\r\n    togglePlay: () => void;\r\n    skipForward: () => void;\r\n    toggleMute: () => void;\r\n    toggleFullscreen: () => void;\r\n    skip: (timeInSeconds: number) => void;\r\n}","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBackward, faForward, faPause, faPlay } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport './VideoOverlayControl.scss';\r\n\r\nexport const VideoOverlayControl = (props: VideoOverlayControlProps) => {\r\n    return (\r\n        <div className=\"video-overlay-control\">\r\n            <div className=\"control\" onDoubleClick={props.skipBackward}>\r\n                <FontAwesomeIcon icon={faBackward} size=\"3x\" />\r\n            </div>\r\n            <div className=\"control\" onClick={props.togglePlay}>\r\n                <FontAwesomeIcon icon={props.isPlaying ? faPause : faPlay} size=\"6x\" />\r\n            </div>\r\n            <div className=\"control\" onDoubleClick={props.skipForward}>\r\n                <FontAwesomeIcon icon={faForward} size=\"3x\" />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\ninterface VideoOverlayControlProps {\r\n    isPlaying: boolean;\r\n    skipBackward: () => void;\r\n    togglePlay: () => void;\r\n    skipForward: () => void;\r\n}","import React, { useState } from 'react';\n\nimport './App.scss';\n\nimport { Dropdown } from './common/dropdown/Dropdown';\nimport { ImageSelect } from './common/image-select/ImageSelect';\nimport { VideoPlayer, VideoInfo, VideoPlayerTheme } from './common/video-player/VideoPlayer';\n\nexport const App = () => {\n  const themeOptions = [\n    { text: 'Red', value: VideoPlayerTheme.Red },\n    { text: 'Green', value: VideoPlayerTheme.Green },\n    { text: 'Blue', value: VideoPlayerTheme.Blue }\n  ];\n  const [currentTheme, setCurrentTheme] = useState(themeOptions[2]);\n\n  const videoInfos: VideoInfo[] = [\n    {\n      title: 'Big Buck Bunny - 2008',\n      posterSrc: 'https://www.blender.org/wp-content/uploads/2013/07/poster-bigbuckbunny.jpg',\n      videoSrc: 'https://download.blender.org/peach/bigbuckbunny_movies/big_buck_bunny_1080p_stereo.ogg'\n    },\n    {\n      title: 'Sintel - 2010',\n      posterSrc: 'https://www.blender.org/wp-content/uploads/2013/07/poster-sintel.jpg',\n      videoSrc: 'http://ftp.nluug.nl/pub/graphics/blender/demo/movies/Sintel.2010.1080p.mkv'\n    },\n    {\n      title: 'Tears of Steel - 2012',\n      posterSrc: 'https://www.blender.org/wp-content/uploads/2013/07/poster-tearsofsteel.jpg',\n      videoSrc: 'http://media.xiph.org/mango/tears_of_steel_1080p.webm'\n    }\n  ];\n  const [currentVideoInfo, setCurrentVideoInfo] = useState(videoInfos[1]);\n\n  return (\n    <div className=\"app\">\n      <header className=\"header\">\n        React Video Player\n      </header>\n      <section className=\"body\">\n        <VideoPlayer videoInfo={currentVideoInfo} theme={currentTheme.value} />\n        <fieldset className=\"preferences\">\n          <legend>Preferences</legend>\n          <Dropdown\n            label=\"Theme\"\n            options={themeOptions}\n            textProperty=\"text\"\n            selectedOption={themeOptions[2]}\n            onSelect={option => setCurrentTheme(option)} />\n          <hr />\n          <ImageSelect\n            options={videoInfos}\n            imageProperty=\"posterSrc\"\n            titleProperty=\"title\"\n            selectedOption={videoInfos[1]}\n            onSelect={option => setCurrentVideoInfo(option)} />\n        </fieldset>\n      </section>\n      <footer className=\"footer\">\n        Video © Copyright Blender Foundation | <a href=\"https://www.blender.org/about/projects/\" target=\"_blank\" rel=\"noreferrer\">https://www.blender.org</a>\n      </footer>\n    </div >\n  )\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.scss';\n\nimport { App } from './app/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}